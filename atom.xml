<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[tushman.io]]></title>
  <link href="http://jtushman.github.io/atom.xml" rel="self"/>
  <link href="http://jtushman.github.io/"/>
  <updated>2013-05-22T09:43:35-04:00</updated>
  <id>http://jtushman.github.io/</id>
  <author>
    <name><![CDATA[Jonathan Tushman]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Kenneth Reitz Should Be A Millionaire]]></title>
    <link href="http://jtushman.github.io/blog/2013/05/22/kenneth-reitz-should-be-a-millionaire/"/>
    <updated>2013-05-22T07:51:00-04:00</updated>
    <id>http://jtushman.github.io/blog/2013/05/22/kenneth-reitz-should-be-a-millionaire</id>
    <content type="html"><![CDATA[<h2>or &ldquo;Introducing the Dollar Store&rdquo;</h2>

<p><strong>tl;dr:  Like the apple store, we should I have easy way to pay $1 to use a piece of software.  I think <a href="https://github.com/">Github</a> should help us do that</strong></p>

<p>I went to a really create Python Meetup last night where Kenneth Reitz (<a href="https://twitter.com/kennethreitz">@kennethreitz</a>) did his <strong>Python for Human&rsquo;s</strong> talk.  Really interesting talk, worth watching (<a href="http://www.youtube.com/watch?v=Y97D8j6CAog">link</a>).</p>

<p>@kennethreitz is, amoung other things, the author of the <a href="http://docs.python-requests.org/en/latest/">requests</a> library for python.  On one of his slides, he mentioned that his open-source requests libary has been downloaded 4MM times.  I that got me thinking …</p>

<blockquote><p>Kennenth Reitz should be a millionaire</p></blockquote>

<p>Now, maybe he is.  But I doubt it. But he should be.  Here&rsquo;s how &hellip;</p>

<p>So I pose a question to you developers out there:</p>

<p><strong>Whould you pay $1 to use the requests library?</strong>  Whould you pay $1 to use Flask? Rails? etc …</p>

<p>I know for me, the answer is <strong>Hell Yes!</strong>  if (and here is the important part) it is really easy, and headache free.</p>

<p>Here is my proposal &hellip;</p>

<h2>GitHub should open the <strong>&ldquo;Dollar Store&rdquo;</strong></h2>

<p>There are a lot of details that need to be worked out.  But here is the general work flow:</p>

<ul>
<li>Kenneth clicks a button on his requests project and says &mdash; &ldquo;Enable <strong>Dollar Store</strong>&rdquo;  (note: that the project can still be downloaded for free as normal)</li>
<li>I go to my github account, and click &lsquo;support the <strong>Dollar Store</strong>&rsquo;</li>
<li>Now the first time I pull down a project from gibhub with my ssl_key or what have you, if that project is in the dollar store GitHub charges me a dollar and gives it to that project owner</li>
</ul>


<p>Organizaitons as a whole can also support the dollar store.  I can have all of <a href="http://zefr.com">ZEFR</a> support the <strong>Dollar Store</strong>.</p>

<p>Pretty soon, Kenneth will be a millionaire and will be able to afford the laptop of his dreams.</p>

<h2>I know this open a can of worms (Haters gonna hate):</h2>

<ul>
<li>How do you allocated funds amoung many commitors?</li>
<li>Copyright(left) issues (This is probably the biggest hurdle now)  &mdash; But I beleive surmountable</li>
</ul>


<p>But I think these are all details.  <strong>Fundimentally there is money out there that <em>wants</em> to go into smart engineers pockets</strong> &mdash; and we should find a way to greese the wheels, and make it easier for that to happen.</p>

<p>I really think that something like this will be great for innovation.  It will spur more people to contribute to &ldquo;OpenSource&rdquo;</p>

<p>In the meantime there are some alternatives to support projects like these:</p>

<ul>
<li><a href="https://www.gittip.com/kennethreitz/">Gittip</a> (right know Kenneth makes about $4,000 year for this work)</li>
<li>And you can also pay for &ldquo;<a href="https://gumroad.com/l/RRZc">enterprise support</a>&rdquo; for $25/year</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mailing It In]]></title>
    <link href="http://jtushman.github.io/blog/2013/05/17/mailing-it-in/"/>
    <updated>2013-05-17T12:10:00-04:00</updated>
    <id>http://jtushman.github.io/blog/2013/05/17/mailing-it-in</id>
    <content type="html"><![CDATA[<p>File this under, something I want, but not going to build &hellip;</p>

<p>Had another idea in the shower this morning (all of my ideas happen in the shower).</p>

<p><strong>Problem Statement:</strong>  What is an easy, non stressful way to communicate what we are working on cross coasts.  And for me the most important aspect of that is <strong>what are people struggling with</strong>, and does someone else on our growing team have knowledge to help them.</p>

<p>For example.  I was working to set up flower to monitor celery.  I mentioned that to Marc, and he said, &ldquo;I had a really bad experience with that.  It caused a pretty significant memory loss&rdquo;.  Really good to know.</p>

<p>There a bunch of tools out there, some that we use, and some that we don&rsquo;t, that solve parts of the problem:</p>

<ol>
<li><a href="https://www.pivotaltracker.com">Pivotal Tracker</a>:  What am I currently working on</li>
<li><a href="http://www.github.com">GitHub</a>:  What changes have I made to the code base(s)</li>
<li><a href="https://idonethis.com/">IDoneThis</a>: (we don&rsquo;t use this)  But it is a cool (but IMHO overpriced) tool that you simply email a quick email on what you did today.</li>
</ol>


<p>My idea I am calling <strong>Mailing It In™</strong>.  This is what I want it to do:</p>

<ol>
<li><p>Everyday you send a <a href="http://daringfireball.net/projects/markdown/syntax">markdown</a> formated email to <a href="&#x6d;&#97;&#105;&#108;&#116;&#x6f;&#x3a;&#x6d;&#97;&#105;&#x6c;&#105;&#116;&#105;&#x6e;&#x40;&#x7a;&#x65;&#x66;&#x72;&#46;&#99;&#x6f;&#x6d;&#46;">&#109;&#x61;&#105;&#x6c;&#x69;&#x74;&#105;&#x6e;&#x40;&#122;&#101;&#102;&#114;&#x2e;&#99;&#111;&#x6d;&#46;</a>  I need to think about this more, but I think we just need to answer two questions:</p>

<ol>
<li>What am I struggling with:</li>
<li>I learned this cool thing:</li>
</ol>
</li>
<li><p>What you are working on will be automatically taken out of pivotal</p></li>
<li>At Noon every day an digest email will be sent out to the entire team (similar to the daily scrum)</li>
<li>A weekly summery digest email can also be configured</li>
<li>All of this content will be posted in  a Jekyl blog hosted internally at ZEFR.  This site will have the following features (most coming for free from <a href="http://jekyllrb.com/">Jekyl</a> or <a href="http://octopress.org">Octopress</a>):

<ol>
<li>Search</li>
<li>Be able to see history by team, person, company</li>
<li>Have <a href="http://disqus.com/">disqus</a> integrated</li>
</ol>
</li>
</ol>


<p>Anyways &mdash; just an idea.  Not going to do anything about it besides write this post.  But if someone develops it &mdash; Let me know!!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Deamonize Processes on Ubuntu]]></title>
    <link href="http://jtushman.github.io/blog/2013/05/14/deamonize-processes-on-ubuntu/"/>
    <updated>2013-05-14T13:07:00-04:00</updated>
    <id>http://jtushman.github.io/blog/2013/05/14/deamonize-processes-on-ubuntu</id>
    <content type="html"><![CDATA[<p><strong>Problem Statement:  What is the simplest was to deamonize a serivce (Celeryd)on Ubuntu.</strong></p>

<p>I am relatively new to Unix sys admin tasks (I have been relying on <a href="https://www.heroku.com/">heroku</a> to handle all of that for me)  But I ran into a problem where I could not rely on that paradigm.  I thought it was going to be really easy to do.  But it ended up taking me a lot longer then I expected.  Hopefuly this post will help someone in a similar situation.</p>

<p>There are a handful of unix initialization options:</p>

<ul>
<li><a href="http://supervisord.org/">Supervisor</a></li>
<li><a href="http://upstart.ubuntu.com/">Upstart</a> (/etc/init)</li>
<li>and <a href="http://en.wikipedia.org/wiki/Init">System V Init</a> (/etc/init.d)</li>
</ul>


<p>I tried all three, and really the only one where I am not throwing up in my mouth is Upstart.  This should be your default choice if you are running Ubuntu</p>

<p>Let me jump to the final solution, then I can go into the finer points</p>

<h4>1) Create an init script</h4>

<pre><code># This goes into /etc/init/celeryd
# celeryd -runs the celery worker as my virutal env user
#
#
# This task is run on startup to start the celery worker

description "runs the celery worker"
author "jonathan tushman"

start on runlevel [2345]
stop on runlevel [!2345]

# retry if ended unexpectedly
respawn

# limit the retries to max 15 times with timeouts of 5 seconds
respawn limit 15 5

# Time to wait between sending TERM and KILL signals
kill timeout 20

chdir /home/ubuntu/apps/money
exec su -c  'FLASK_ENV=production /usr/local/bin/celeryd --loglevel=info --concurrency=1 --logfile=/var/log/worker.log'
</code></pre>

<h4>F*ck thats it. (I hate how simple this solution is once you figured out how to do it)</h4>

<p>Now you are able to execute the following commands:</p>

<pre><code>&gt; sudo start celeryd
&gt; sudo restart celeryd
&gt; sudo stop celeryd
&gt; sudo status celeryd
</code></pre>

<p><strong>and</strong> whenever your machine startsup or shutsdown the service will automatically start up and stop respectively.  Thats what the following lines are for:</p>

<pre><code>start on runlevel [2345]
stop on runlevel [!2345]
</code></pre>

<p>To see whats going on, these tail commands are useful:</p>

<pre><code>&gt;   tail -f /var/log/money-worker.log -f /var/log/celery/celery.log

&gt;   tail -f /var/log/syslog
</code></pre>

<h4>The main thing that haunted me, was once again Unix permissions</h4>

<p>(One day, I am sure I am going to say &mdash; man! Unix permissions are awesome)</p>

<p>The most important line in the init script is the exec line:</p>

<pre><code>exec su -c  'FLASK_ENV=production /usr/local/bin/celeryd --loglevel=info --concurrency=1 --logfile=/var/log/worker.log'
</code></pre>

<p>So what I learned here is that sudo has its own environment variable space.  So even if I set the FLASK_ENV environement varable above in the script, it wouln&rsquo;t be applied.  So you need to use <code>su -c</code> which will execute the given string as super user.  Check out this StackOverflow <a href="http://stackoverflow.com/a/16533951/192791">post</a> for more info.</p>
]]></content>
  </entry>
  
</feed>
